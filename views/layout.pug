doctype html
html
  head
    title= title
    link(rel="stylesheet", href="/css/bootstrap.min.css")
    link(rel='stylesheet', href='/stylesheets/style.css')
    script(src="js/bootstrap.min.js")


  body
    #google_translate_element
    - if (notice.length || error.length)
      .position-absolute.top-0.start-50.translate-middle-x.w-100.p-3(style="max-width: 600px; z-index: 1050;")
        if (notice.length)
          .alert.alert-success #{notice}
        if (error.length)
          .alert.alert-danger #{error}

    .container-fluid.d-flex.h-100.p-0
      aside.shadow.min-vh-100.py-4.px-2.position-fixed.top-0.start-0
        nav.d-flex.flex-column.h-100.flex-grow-1
          a.navbar-brand.px-3(href="/")
            img(height=50, src="/images/logo.svg", alt="Apex Finance")

          hr.text-light

          p.mb-0.text-light.px-3.fw-semibold Hi, #{email}

          hr.text-light

          ul.nav.flex-column.fw-semibold.gap-2.mt-3.flex-grow-1
            li.nav-item
              a.nav-link.fw-bold.text-light(href="/") Dashboard
            li.nav-item
              a.nav-link.fw-bold.text-light(href="/portfolios") Portfolios
            //- li.nav-item
            //-   a.nav-link.fw-bold.text-light(href="/buy-asset") Buy Asset
            //- li.nav-item
            //-   a.nav-link.fw-bold.text-light(href="/sell-asset") Sell Asset
            li.nav-item
              form(action="/logout", method="POST")
                button.btn.btn-link.nav-link.fw-bold.text-danger.w-100.text-start(type="submit") Logout

            li.nav-item
              a.nav-link.fw-bold.text-light(href="#" onclick="toggleDarkMode()") Toggle Dark Mode
      main.flex-grow-1.overflow-auto.p-4.d-flex.flex-column.min-vh-100(style="margin-left: 16rem;")
        block content
        footer.mt-auto.text-center.text-muted
          p &copy; 2025 Apex Finance

    script.
      const alerts = document.querySelectorAll('.alert');
      alerts.forEach(alert => {
        setTimeout(() => {
          alert.classList.add('fade');
          alert.classList.remove('show');
          setTimeout(() => alert.remove(), 500);
        }, 4000);
      });
    //toggle dark or light
    script.
      function toggleDarkMode() {
        document.body.classList.toggle('dark-mode');
        //using local storage to keep it persistent across each page
        if(document.body.classList.contains('dark-mode')) {
          localStorage.setItem('theme', 'dark');
        } else {
          localStorage.setItem('theme', 'light');
        }
      }
      (function() {
        if(localStorage.getItem('theme') === 'dark') {
          document.body.classList.add('dark-mode');
        }
      })();

    //google Translate Scripts
    script.
      // <![CDATA[
      function googleTranslateElementInit() {
        new google.translate.TranslateElement(
          {pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE},
          'google_translate_element'
        );
      }
      // ]]>
    script(src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" type="text/javascript")



